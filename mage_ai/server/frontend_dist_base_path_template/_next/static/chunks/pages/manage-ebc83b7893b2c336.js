(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8867],{94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(82394),i=t(21831),o=t(82684),s=t(50724),c=t(82555),a=t(97618),l=t(70613),u=t(92272),d=t(68899),f=t(28598);function p(e,n){var t=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:n,children:t})}var h=o.forwardRef(p),m=t(62547),x=t(82571),j=t(77417),b=t(46684),g=t(75375);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function y(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,o=e.afterHidden,p=e.afterWidth,v=e.afterWidthOverride,y=e.appendBreadcrumbs,w=e.before,_=e.beforeHeader,P=e.beforeWidth,k=e.breadcrumbs,O=e.children,C=e.contained,S=e.errors,I=e.headerMenuItems,E=e.headerOffset,D=e.hideAfterCompletely,R=e.mainContainerHeader,N=e.navigationItems,A=e.setAfterHidden,W=e.setAfterWidth,M=e.setBeforeWidth,F=e.setErrors,B=e.subheaderChildren,H=e.subheaderNoPadding,L=e.title,T=e.uuid,U=(0,g.Z)(T,{beforeResizeOffset:g.H,setWidthAfter:W,setWidthBefore:M,widthAfter:p,widthBefore:P,widthOverrideAfter:v}),z=U.mainContainerRef,G=U.mousedownActiveAfter,V=U.mousedownActiveBefore,q=U.setMousedownActiveAfter,K=U.setMousedownActiveBefore,$=U.setWidthAfter,Y=U.setWidthBefore,Q=U.widthAfter,X=U.widthBefore,J=(0,j.Z)().project,ee=[];return k&&ee.push.apply(ee,(0,i.Z)(k)),null!=k&&k.length&&!y||!J||null!=k&&k.length||ee.unshift({bold:!y,label:function(){return L}}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{title:L}),(0,f.jsx)(u.Z,{breadcrumbs:ee,menuItems:I}),(0,f.jsxs)(d.Nk,{ref:n,children:[0!==(null==N?void 0:N.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(x.Z,{navigationItems:N,showMore:!0})}),(0,f.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(m.Z,{after:t,afterHeader:r,afterHeightOffset:b.Mz,afterHidden:o,afterMousedownActive:G,afterWidth:Q,before:w,beforeHeader:_,beforeHeightOffset:b.Mz,beforeMousedownActive:V,beforeWidth:w?X:d.k1,contained:C,headerOffset:E,hideAfterCompletely:!t||D,leftOffset:w?d.k1:null,mainContainerHeader:R,mainContainerRef:z,setAfterHidden:A,setAfterMousedownActive:q,setAfterWidth:$,setBeforeMousedownActive:K,setBeforeWidth:Y,children:[B&&(0,f.jsx)(h,{noPadding:H,children:B}),O]})})]}),S&&(0,f.jsx)(s.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null==F?void 0:F(null)},children:(0,f.jsx)(c.Z,Z(Z({},S),{},{onClose:function(){return null==F?void 0:F(null)}}))})]})}var w=o.forwardRef(y)},53779:function(e,n,t){"use strict";t.d(n,{C:function(){return h},X$:function(){return p},eD:function(){return d}});var r=t(9518),i=t(44897),o=t(42631),s=t(70515),c=t(47041),a=t(91437),l=6.25*s.iI,u=100*s.iI,d=r.default.div.withConfig({displayName:"indexstyle__WindowContainerStyle",componentId:"sc-g0cszf-0"})(["border-radius:","px;width:100%;max-width:","px;z-index:101;position:absolute;overflow:hidden;top:50%;left:50%;transform:translate(-50%,-50%);",""],o.n_,u,(function(e){return"\n    box-shadow: ".concat((e.theme||i.Z).shadow.window,";\n    background-color: ").concat((e.theme||i.Z).background.panel,";\n  ")})),f=(0,r.css)(["display:flex;align-items:center;justify-content:space-between;height:","px;padding:","px ","px;",""],l,s.iI,s.cd*s.iI,(function(e){return"\n    background-color: ".concat((e.theme||i.Z).background.output,";\n  ")})),p=r.default.div.withConfig({displayName:"indexstyle__WindowHeaderStyle",componentId:"sc-g0cszf-1"})([""," border-top-left-radius:","px;border-top-right-radius:","px;",""],f,o.n_,o.n_,(function(e){return"\n    border-bottom: ".concat(o.YF,"px ").concat(o.M8," ").concat((e.theme||i.Z).borders.medium,";\n  ")})),h=r.default.div.withConfig({displayName:"indexstyle__WindowContentStyle",componentId:"sc-g0cszf-2"})(["overflow:auto;padding:","px 0;"," "," "," ",""],s.iI,c.w5,(0,a.eR)(),(function(e){return e.minMaxHeight&&"\n    max-height: ".concat(7*s.iI,"px;\n  ")}),(function(e){return!e.minMaxHeight&&"\n    max-height: calc(100vh - ".concat(6.5*l,"px);\n  ")}))},29480:function(e,n,t){"use strict";t.d(n,{$W:function(){return u},cl:function(){return d},cv:function(){return f},dE:function(){return a},zG:function(){return l}});var r=t(9518),i=t(44897),o=t(42631),s=t(70515),c=t(47041),a=r.default.div.withConfig({displayName:"indexstyle__SectionStyle",componentId:"sc-7a1uhf-0"})(["border-radius:","px;padding:","px;",""],o.n_,s.cd*s.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).popup,";\n  ")})),l=r.default.div.withConfig({displayName:"indexstyle__DocsStyle",componentId:"sc-7a1uhf-1"})(["> div{overflow:initial;}> div img{max-width:80%;background:white;padding:1rem;max-height:20vh;}"]),u=r.default.div.withConfig({displayName:"indexstyle__CodeEditorStyle",componentId:"sc-7a1uhf-2"})(["padding-top:","px;",""],s.cd*s.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).codeTextarea,";\n  ")})),d=r.default.div.withConfig({displayName:"indexstyle__TableContainerStyle",componentId:"sc-7a1uhf-3"})(["overflow:auto;max-height:90vh;width:100%;"," "," "," "," ",""],c.w5,(function(e){return e.hideHorizontalScrollbar&&"\n    overflow-x: hidden;\n  "}),(function(e){return e.width&&"\n    width: ".concat(e.width,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,";\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")})),f=r.default.div.withConfig({displayName:"indexstyle__HeaderRowStyle",componentId:"sc-7a1uhf-4"})(["padding:","px;"," "," ",""],2*s.iI,(function(e){return"\n    background-color: ".concat((e.theme||i.Z).interactive.defaultBackground,";\n    border-bottom: ").concat(o.YF,"px ").concat(o.M8," ").concat((e.theme||i.Z).borders.medium,";\n  ")}),(function(e){return e.padding&&"\n    padding: ".concat(e.padding,"px;\n  ")}),(function(e){return e.rounded&&"\n    border-top-left-radius: ".concat(o.n_,"px;\n    border-top-right-radius: ").concat(o.n_,"px;\n  ")}))},93808:function(e,n,t){"use strict";t.d(n,{Z:function(){return O}});var r=t(77837),i=t(26304),o=t(62243),s=t(29385),c=t(80022),a=t(13692),l=t(93189),u=t(15544),d=t(82394),f=t(38860),p=t.n(f),h=t(82684),m=t(56663),x=t.n(m),j=t(40761),b=t(34661),g=t(36105),v=t(50178),Z=t(69419),y=t(28598),w=["auth"];function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function k(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.Z)(e);if(n){var i=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,l.Z)(this,t)}}function O(e){return function(n){(0,a.Z)(u,n);var t,l=k(u);function u(){var e;(0,o.Z)(this,u);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e=l.call.apply(l,[this].concat(t)),(0,d.Z)((0,c.Z)(e),"state",{auth:new j.Z(e.props.token)}),e}return(0,s.Z)(u,[{key:"componentDidMount",value:function(){this.setState({auth:new j.Z(this.props.token)})}},{key:"render",value:function(){var n=this.props,t=(n.auth,(0,i.Z)(n,w));return(0,y.jsx)(e,P({auth:this.state.auth},t))}}],[{key:"getInitialProps",value:(t=(0,r.Z)(p().mark((function n(t){var r,i,o,s,c,a,l,u,d;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=x()(t),i=(0,v.ex)(t),o=i.id,s=r[b.Mv],c=r[g.qt],a=new j.Z(s),l=P(P({},t),{},{auth:a,currentGroupId:o,theme:c}),(0,v.YB)(t)&&a.isExpired&&(console.log("OAuth token has expired."),u=P(P({},t.query),{},{redirect_url:t.asPath}),(0,Z.nL)("/sign-in?".concat((0,Z.uM)(u)),t.res)),!e.getInitialProps){n.next=12;break}return n.next=10,e.getInitialProps(l);case 10:return d=n.sent,n.abrupt("return",P(P({},d),{},{auth:a,currentGroupId:o,theme:c}));case 12:return n.abrupt("return",l);case 13:case"end":return n.stop()}}),n)}))),function(e){return t.apply(this,arguments)})}]),u}(h.Component)}},75083:function(e,n,t){"use strict";t.d(n,{HF:function(){return o},L6:function(){return r}});var r,i=t(72473);function o(e,n,t){var o=e.owner,s=(e.roles,[{Icon:i.WorkspacesIcon,id:r.WORKSPACES,isSelected:function(){return r.WORKSPACES===t},label:function(){return"Workspaces"},linkProps:{href:"/manage"}},{Icon:i.NavDashboard,id:r.OVERVIEW,isSelected:function(){return r.OVERVIEW===t},label:function(){return"Overview"},linkProps:{href:"/manage/overview"}},{Icon:i.Schedule,id:r.PIPELINE_RUNS,isSelected:function(){return r.PIPELINE_RUNS===t},label:function(){return"Pipeline runs"},linkProps:{href:"/manage/pipeline-runs"}}]);return o&&s.push({Icon:i.WorkspacesUsersIcon,id:r.USERS,isSelected:function(){return r.USERS===t},label:function(){return"Users"},linkProps:{href:"/manage/users"}}),s.push.apply(s,[{Icon:i.File,id:r.FILE_BROWSER,isSelected:function(){return r.FILE_BROWSER===t},label:function(){return"File browser"},linkProps:{href:"/manage/files"}},{Icon:i.Settings,id:r.SETTINGS,isSelected:function(){return r.SETTINGS===t},label:function(){return"Settings"},linkProps:{href:"/manage/settings"}}]),s}!function(e){e.OVERVIEW="overview",e.PIPELINE_RUNS="pipeline_runs",e.WORKSPACES="workspaces",e.USERS="users",e.SETTINGS="settings",e.FILE_BROWSER="file_browser"}(r||(r={}))},59533:function(e,n,t){"use strict";var r=t(82684),i=t(94629),o=t(35686),s=t(50018),c=t(70515),a=t(75083),l=t(28598);n.Z=function(e){var n=e.before,t=e.breadcrumbs,u=void 0===t?[]:t,d=e.children,f=e.errors,p=e.headerOffset,h=e.mainContainerHeader,m=e.pageName,x=e.setErrors,j=e.subheaderChildren,b=o.ZP.statuses.list().data,g=(0,r.useMemo)((function(){var e,n;return null==b||null===(e=b.statuses)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.project_type}),[b]),v=(0,s.Z)()||{};return(0,l.jsx)(i.Z,{before:n,beforeWidth:n?50*c.iI:0,breadcrumbs:u,errors:f,headerOffset:p,mainContainerHeader:h,navigationItems:(0,a.HF)(v,g,m),setErrors:x,subheaderChildren:j,title:"Workspaces",uuid:"workspaces/index",children:d})}},11074:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(9518),i=t(44897),o=t(42631),s=r.default.div.withConfig({displayName:"indexstyle__PanelStyle",componentId:"sc-1rfr5wd-0"})(["border-radius:","px;"," ",""],o.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,";\n  ")}),(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),c=t(28598);var a=function(e){var n=e.children,t=e.fullWidth,r=void 0===t||t;return(0,c.jsx)(s,{fullWidth:r,children:n})}},42765:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ve}});var r,i=t(77837),o=t(75582),s=t(82394),c=t(38860),a=t.n(c),l=t(82684),u=t(34376),d=t(71180),f=t(83455),p=t(32013),h=t(98777),m=t(89083),x=t(15338),j=t(78650),b=t(97618),g=t(55485),v=t(85854),Z=t(68562),y=t(11074),w=t(44085),_=t(38276),P=t(30160),k=t(17488),O=t(69650),C=t(12468),S=t(35686),I=["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],E=["Retain","Delete"],D=[{label:"Workspace name",required:!0,uuid:"name"}],R=[{label:"Namespace",labelDescription:"The namespace where the workspace resources will be deployed. Defaults to the value of the KUBE_NAMESPACE environment variable.",uuid:"namespace"},{label:"Service account name",placeholder:"default",uuid:"service_account_name"},{label:"Ingress name",labelDescription:"If you want to add the workspace to an existing ingress, enter the name of the ingress here. Otherwise, the workspace can be accessed through the service.",placeholder:"my-ingress",uuid:"ingress_name"}],N=[{label:"Storage class name",placeholder:"default",uuid:"storage_class_name"},{label:"Storage request size (in GB)",type:"number",uuid:"storage_request_size"}],A=t(44425),W=t(72473);!function(e){e.K8S="k8s",e.ECS="ecs",e.CLOUD_RUN="cloud_run",e.EMR="emr"}(r||(r={}));var M={ingress_name:"Ingress",namespace:"Namespace",pvc_retention_policy:"PVC retention policy",service_account_name:"Service account name",storage_access_mode:"Storage access mode",storage_class_name:"Storage class name",storage_request_size:"Storage request size (in GB)",url:"Access URL"},F={"termination_policy.enable_auto_termination":"Termination policy: auto-terminate","termination_policy.max_idle_seconds":"Termination policy: max idle seconds",pre_start_script_path:"Pre start: script path","post_start.command":"Post start: command","post_start.hook_path":"Post start: path to hook"},B=t(29480),H=t(79633),L=t(53779),T=t(72619),U=t(81728),z=t(89538),G=t(28598);function V(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?V(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K=function(e){var n=e.clusterType,t=e.onCancel,i=e.onCreate,c=e.project,a=e.workspace,u=a||{},M=u.lifecycle_config,F=void 0===M?{}:M,V=u.container_config,K=(0,l.useState)(),$=K[0],Y=K[1],Q=(0,l.useState)(!!V),X=Q[0],J=Q[1],ee=(0,l.useState)(!1),ne=ee[0],te=ee[1],re=(0,l.useState)(a),ie=re[0],oe=re[1],se=(0,l.useState)(F),ce=se[0],ae=se[1],le=!!a,ue=(0,l.useMemo)((function(){return null==c?void 0:c.workspace_config_defaults}),[c]);(0,l.useEffect)((function(){if(ue&&(ce||ae(null==ue?void 0:ue.lifecycle_config),!ie)){var e=q(q({},null==ue?void 0:ue.k8s),{},{name:null==ue?void 0:ue.name});oe(e)}}),[ue,ce,ie]);var de=(0,f.Db)(S.ZP.workspaces.useUpdate(null==a?void 0:a.name,{cluster_type:n}),{onSuccess:function(e){return(0,T.wD)(e,{callback:function(e){e.error_message?Y(e.error_message):i()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;Y(r),console.log(t,r)}})}}),fe=(0,o.Z)(de,2),pe=fe[0],he=fe[1].isLoading,me=(0,f.Db)(S.ZP.workspaces.useCreate(),{onSuccess:function(e){return(0,T.wD)(e,{callback:function(e){e.error_message?Y(e.error_message):i()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;Y(r),console.log(t,r)}})}}),xe=(0,o.Z)(me,2),je=xe[0],be=xe[1].isLoading,ge=S.ZP.files.list(),ve=ge.data,Ze=ge.mutate,ye=(0,l.useMemo)((function(){return(null==ve?void 0:ve.files)||[]}),[ve]),we=(0,z.dd)((function(e){return(0,G.jsxs)(L.eD,{children:[(0,G.jsxs)(L.X$,{children:[(0,G.jsx)(b.Z,{alignItems:"center",children:(0,G.jsx)(P.ZP,{disableWordBreak:!0,monospace:!0,children:"Select file"})}),(0,G.jsx)(d.ZP,{iconOnly:!0,onClick:ke,children:(0,G.jsx)(W.Close,{muted:!0})})]}),(0,G.jsx)(L.C,{children:(0,G.jsx)(j.Z,{disableContextMenu:!0,fetchFiles:Ze,files:ye,isFileDisabled:null==e?void 0:e.isFileDisabled,openFile:e.onFileOpen,uuid:"ConfigureWorkspace/FileBrowser"})})]})}),{},[ye,Ze],{background:!0,uuid:"file_selector"}),_e=(0,o.Z)(we,2),Pe=_e[0],ke=_e[1],Oe=(0,l.useCallback)((function(e){var n=e.autoComplete,t=e.disabled,r=e.label,i=e.labelDescription,o=e.placeholder,c=e.required,a=e.type,l=e.uuid;return(0,G.jsxs)("div",{children:[(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsxs)(b.Z,{flex:2,flexDirection:"column",children:[(0,G.jsx)(P.ZP,{children:r}),i&&(0,G.jsx)(P.ZP,{muted:!0,children:i})]}),(0,G.jsx)(b.Z,{flex:1}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsx)(k.Z,{autoComplete:n,disabled:t,onChange:function(e){oe((function(n){return q(q({},n),{},(0,s.Z)({},l,e.target.value))}))},placeholder:o,required:c,setContentOnMount:!0,type:a,value:(null==ie?void 0:ie[l])||""})})]})})]},l)}),[ie,oe]),Ce=(0,l.useMemo)((function(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(g.ZP,{children:(0,G.jsx)(_.Z,{ml:2,my:2,children:(0,G.jsx)(P.ZP,{bold:!0,sky:!0,children:"General"})})}),R.map((function(e){return Oe(e)})),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(g.ZP,{children:(0,G.jsx)(_.Z,{ml:2,my:2,children:(0,G.jsx)(P.ZP,{bold:!0,sky:!0,children:"Volume claim params"})})}),N.map((function(e){return Oe(e)})),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(b.Z,{flex:3,children:(0,G.jsx)(P.ZP,{children:"Access mode"})}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsx)(w.Z,{fullWidth:!0,label:"Access mode",onChange:function(e){e.preventDefault(),oe((function(n){return q(q({},n),{},{storage_access_mode:e.target.value})}))},placeholder:"Access mode",value:null==ie?void 0:ie.storage_access_mode,children:I.map((function(e){return(0,G.jsx)("option",{value:e,children:e},e)}))})})]})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(b.Z,{flex:3,children:(0,G.jsx)(C.Z,{block:!0,description:(0,G.jsxs)(P.ZP,{default:!0,inline:!0,children:["Configure the retention policy for the stateful set PVC.",(0,G.jsx)("br",{}),"Retain will keep the PVC after the workspace is deleted.",(0,G.jsx)("br",{}),"Delete will delete the PVC when the workspace is deleted."]}),size:null,widthFitContent:!0,children:(0,G.jsx)(P.ZP,{children:"Retention policy (default: Retain)"})})}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsx)(w.Z,{fullWidth:!0,label:"Retention policy",onChange:function(e){e.preventDefault(),oe((function(n){return q(q({},n),{},{pvc_retention_policy:e.target.value})}))},placeholder:"Retention policy",value:null==ie?void 0:ie.pvc_retention_policy,children:E.map((function(e){return(0,G.jsx)("option",{value:e,children:e},e)}))})})]})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:2,my:2,children:(0,G.jsxs)(g.ZP,{alignItems:"center",children:[(0,G.jsx)(O.Z,{checked:X,compact:!0,onCheck:function(){return J((function(e){return!e}))}}),(0,G.jsx)(_.Z,{ml:1,children:(0,G.jsx)(P.ZP,{bold:!0,sky:!0,children:"Configure container"})})]})}),X&&(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsx)(B.$W,{children:(0,G.jsx)(m.Z,{autoHeight:!0,fontSize:12,language:A.t6.YAML,onChange:function(e){oe((function(n){return q(q({},n),{},{container_config:e})}))},tabSize:2,value:null==ie?void 0:ie.container_config,width:"100%"})})}),(0,G.jsx)(x.Z,{muted:!0})]})}),[Oe,X,ie]),Se=(0,l.useMemo)((function(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsxs)(b.Z,{flex:2,flexDirection:"column",children:[(0,G.jsx)(P.ZP,{children:"Update workspace settings"}),(0,G.jsx)(P.ZP,{muted:!0,children:"Set this to true to update the workspace environment variable settings with values from this Kubernetes deployment."})]}),(0,G.jsx)(b.Z,{flex:1}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsxs)(w.Z,{fullWidth:!0,onChange:function(e){e.preventDefault(),te("true"===e.target.value)},value:(null==ne?void 0:ne.toString())||"false",children:[(0,G.jsx)("option",{value:"true",children:"True"},"true"),(0,G.jsx)("option",{value:"false",children:"False"},"false")]})})]})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:2,my:2,children:(0,G.jsxs)(g.ZP,{alignItems:"center",children:[(0,G.jsx)(O.Z,{checked:X,compact:!0,onCheck:function(){return J((function(e){return!e}))}}),(0,G.jsx)(_.Z,{ml:1,children:(0,G.jsx)(P.ZP,{bold:!0,sky:!0,children:"Configure container"})})]})}),X&&(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsx)(B.$W,{children:(0,G.jsx)(m.Z,{autoHeight:!0,fontSize:12,language:A.t6.YAML,onChange:function(e){oe((function(n){return q(q({},n),{},{container_config:e})}))},tabSize:2,value:null==ie?void 0:ie.container_config,width:"100%"})})}),(0,G.jsx)(x.Z,{muted:!0})]})}),[X,ne,ie]),Ie=(0,l.useMemo)((function(){var e,n,t,r;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(g.ZP,{children:(0,G.jsx)(_.Z,{ml:2,my:2,children:(0,G.jsx)(P.ZP,{bold:!0,sky:!0,children:"Termination policy"})})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(b.Z,{flex:3,children:(0,G.jsx)(P.ZP,{children:"Enable auto termination"})}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsxs)(w.Z,{fullWidth:!0,onChange:function(e){e.preventDefault(),ae((function(n){return q(q({},n),{},{termination_policy:q(q({},null==n?void 0:n.termination_policy),{},{enable_auto_termination:"true"===e.target.value})})}))},value:(null==ce||null===(e=ce.termination_policy)||void 0===e?void 0:e.enable_auto_termination)||"false",children:[(0,G.jsx)("option",{value:"true",children:"True"},"true"),(0,G.jsx)("option",{value:"false",children:"False"},"false")]})})]})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(b.Z,{flex:3,children:(0,G.jsx)(P.ZP,{children:"Max idle time (in seconds)"})}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsx)(k.Z,{onChange:function(e){ae((function(n){return q(q({},n),{},{termination_policy:q(q({},null==n?void 0:n.termination_policy),{},{max_idle_seconds:e.target.value})})}))},setContentOnMount:!0,type:"number",value:(null==ce||null===(n=ce.termination_policy)||void 0===n?void 0:n.max_idle_seconds)||""})})]})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(g.ZP,{children:(0,G.jsx)(_.Z,{ml:2,my:2,children:(0,G.jsx)(P.ZP,{bold:!0,sky:!0,children:"Pre start"})})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsxs)(b.Z,{flex:3,justifyContent:"space-between",children:[(0,G.jsx)(P.ZP,{children:"Path to pre start script"}),(0,G.jsx)(_.Z,{mr:1,children:(0,G.jsx)(d.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,onClick:function(){return Pe({isFileDisabled:function(e,n){return!n&&!e.endsWith(".py")},onFileOpen:function(e,n){ae((function(n){return q(q({},n),{},{pre_start_script_path:e})})),ke()}})},children:(0,G.jsx)(W.Folder,{})})})]}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsx)(k.Z,{onChange:function(e){ae((function(n){return q(q({},n),{},{pre_start_script_path:e.target.value})}))},placeholder:"/",setContentOnMount:!0,value:(null==ce?void 0:ce.pre_start_script_path)||""})})]})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(g.ZP,{children:(0,G.jsx)(_.Z,{ml:2,my:2,children:(0,G.jsx)(P.ZP,{bold:!0,sky:!0,children:"Post start"})})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(b.Z,{flex:3,children:(0,G.jsx)(P.ZP,{children:"Command"})}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsx)(k.Z,{monospace:!0,onChange:function(e){ae((function(n){return q(q({},n),{},{post_start:q(q({},null==n?void 0:n.post_start),{},{command:e.target.value})})}))},setContentOnMount:!0,value:(null==ce||null===(t=ce.post_start)||void 0===t?void 0:t.command)||""})})]})}),(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsxs)(b.Z,{flex:3,justifyContent:"space-between",children:[(0,G.jsx)(P.ZP,{children:"Path to hook (optional)"}),(0,G.jsx)(_.Z,{mr:1,children:(0,G.jsx)(d.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,onClick:function(){return Pe({onFileOpen:function(e,n){ae((function(n){return q(q({},n),{},{post_start:q(q({},null==n?void 0:n.post_start),{},{hook_path:e})})})),ke()}})},children:(0,G.jsx)(W.Folder,{})})})]}),(0,G.jsx)(b.Z,{flex:1,children:(0,G.jsx)(k.Z,{onChange:function(e){ae((function(n){return q(q({},n),{},{post_start:q(q({},null==n?void 0:n.post_start),{},{hook_path:e.target.value})})}))},placeholder:"/",setContentOnMount:!0,value:(null==ce||null===(r=ce.post_start)||void 0===r?void 0:r.hook_path)||""})})]})}),(0,G.jsx)(x.Z,{muted:!0})]})}),[ke,ce,ae,Pe]);return(0,G.jsx)(y.Z,{children:(0,G.jsx)("div",{style:{width:"750px"},children:(0,G.jsxs)(_.Z,{p:2,children:[(0,G.jsxs)(v.Z,{level:4,children:[le?"Update":"Create"," workspace"]}),(0,G.jsxs)("form",{children:[D.map((function(e){var n=e.autoComplete,t=e.disabled,r=e.label,i=e.required,o=e.type,c=e.uuid;return(0,G.jsx)(_.Z,{mt:2,children:(0,G.jsx)(k.Z,{autoComplete:n,disabled:t,label:r,onChange:function(e){oe((function(n){return q(q({},n),{},(0,s.Z)({},c,e.target.value))}))},required:i,setContentOnMount:!0,type:o,value:(null==ie?void 0:ie[c])||""})},c)})),(0,G.jsx)(_.Z,{mt:2,children:(0,G.jsxs)(p.Z,{noPaddingContent:!0,children:[n===r.K8S&&(0,G.jsx)(h.Z,{title:"Kubernetes",children:le?Se:Ce}),!le&&(0,G.jsx)(h.Z,{title:"Lifecycle (optional)",children:Ie})]})})]}),be&&(0,G.jsx)(_.Z,{mt:1,children:(0,G.jsx)(P.ZP,{small:!0,warning:!0,children:"This may take up to a few minutes... Once the service is created, it may take another 5-10 minutes for the service to be accessible."})}),!be&&$&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(_.Z,{mt:1,children:(0,G.jsx)(P.ZP,{danger:!0,small:!0,children:"Failed to create instance, see error below."})}),(0,G.jsx)(_.Z,{mt:1,children:(0,G.jsx)(P.ZP,{danger:!0,small:!0,children:$})})]}),(0,G.jsx)(_.Z,{my:2,children:(0,G.jsxs)(g.ZP,{flexDirection:"row-reverse",children:[(0,G.jsx)(Z.ZP,{background:H.a$,bold:!0,inline:!0,loading:be||he,onClick:function(){var e=ie||{},t=e.name,r=e.container_config;if(t){var i=q({},ie);i.name=function(e){return"ecs"===n?(0,U.We)(e,"_"):(0,U.We)(e,"-")}(t),X&&(i.container_config=r),i.update_workspace_settings=ne,le?pe({workspace:q(q({},i),{},{action:"patch",cluster_type:n})}):je({workspace:q(q({},i),{},{cluster_type:n,lifecycle_config:ce})})}else Y("Please enter a valid name!")},uuid:"workspaces/create",children:le?"Update":"Create"}),(0,G.jsx)(_.Z,{ml:1}),(0,G.jsx)(Z.ZP,{bold:!0,inline:!0,onClick:t,uuid:"workspaces/cancel",children:"Cancel"})]})})]})})})},$=t(65956),Y=t(93808),Q=t(75499),X=t(85544),J=t(59533),ee=t(9518),ne=t(44897),te=ee.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-19701zd-0"})(["border:1px solid;border-radius:8px;",""],(function(e){return"\n    border-color: ".concat((e.theme.monotone||ne.Z.monotone).grey500,";\n  ")})),re=t(70515);function ie(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ie(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var se,ce=function(e){var n=e.clusterType,t=e.fetchWorkspaces,i=e.onSuccess,s=e.setErrors,c=e.showUpdateModal,a=e.workspace,u=a.instance,p=a.lifecycle_config,h=(u.ip,u.name),j=u.status,Z=(u.type,{cluster_type:n}),y=(0,f.Db)(S.ZP.workspaces.useUpdate(h,Z),{onSuccess:function(e){return(0,T.wD)(e,{callback:function(){t(),i()},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),w=(0,o.Z)(y,2),k=w[0],O=w[1].isLoading,C=(0,f.Db)(S.ZP.workspaces.useDelete(h,Z),{onSuccess:function(e){return(0,T.wD)(e,{callback:function(){t(),i()},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),I=(0,o.Z)(C,2),E=I[0],D=I[1].isLoading,R=(0,l.useMemo)((function(){if(p){var e={};return Object.entries(p).map((function(n){var t=(0,o.Z)(n,2),r=t[0],i=t[1];i&&"object"==typeof i?Object.entries(i).map((function(n){var t=(0,o.Z)(n,2),i=t[0],s=t[1];e["".concat(r,".").concat(i)]=s})):e[r]=i})),e}}),[p]),N=(0,l.useMemo)((function(){var e=u.status,t=[];return"ecs"===n&&("STOPPED"===e?t.unshift({label:"Resume instance",onClick:function(){return k({workspace:{action:"resume",cluster_type:n,name:u.name,task_arn:u.task_arn}})},props:{loading:O,primary:!0},uuid:"resume_instance"}):"RUNNING"===e&&t.unshift({label:"Stop instance",onClick:function(){return k({workspace:{action:"stop",cluster_type:n,name:u.name,task_arn:u.task_arn}})},props:{loading:O,warning:!0},uuid:"stop_instance"})),"k8s"===n&&("STOPPED"===e?t.unshift({label:"Resume instance",onClick:function(){return k({workspace:{action:"resume",cluster_type:n,name:u.name}})},props:{loading:O,primary:!0},uuid:"resume_instance"}):"RUNNING"===e&&t.unshift({label:"Stop instance",onClick:function(){return k({workspace:{action:"stop",cluster_type:n,name:u.name}})},props:{loading:O,warning:!0},uuid:"stop_instance"}),t.push({label:"Update",onClick:function(){i(),c()},props:{},uuid:"update_instance"})),null==a||!a.ingress_name||null!=a&&a.url||t.push({label:"Add to ingress",onClick:function(){return k({workspace:{action:"add_to_ingress",cluster_type:n,name:u.name}})},props:{default:!0,loading:O},uuid:"re_add_to_ingress"}),t}),[n,u,O,i,c,k,a]),H=(0,l.useMemo)((function(){return(0,G.jsx)(d.ZP,{danger:!0,loading:D,onClick:function(){window.confirm("Are you sure you want to delete workspace ".concat(h,"?"))&&E()},children:"Delete workspace"})}),[E,D,h]);return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(_.Z,{p:2,children:[(0,G.jsx)(_.Z,{mb:2,children:(0,G.jsxs)(g.ZP,{alignItems:"center",children:[(0,G.jsx)(W.Folder,{size:2*re.iI}),(0,G.jsx)(_.Z,{mr:1}),(0,G.jsx)(v.Z,{level:3,children:null==a?void 0:a.name})]})}),(0,G.jsx)(_.Z,{mb:2,children:(0,G.jsxs)(P.ZP,{children:["Status: ",(0,G.jsx)(P.ZP,{bold:!0,danger:"STOPPED"===j,default:"PROVISIONING"===j,inline:!0,success:"RUNNING"===j,warning:"PENDING"===j,children:j})]})}),!N||0==N.length&&(0,G.jsx)(_.Z,{mb:2,children:H}),N&&N.length>0&&(0,G.jsx)(_.Z,{mb:2,children:(0,G.jsxs)(g.ZP,{justifyContent:"space-between",children:[(0,G.jsx)(b.Z,{children:N.map((function(e){var n=e.label,t=e.onClick,r=e.uuid,i=e.props;return(0,G.jsx)(_.Z,{mr:1,children:(0,G.jsx)(d.ZP,oe(oe({},i),{},{onClick:t,children:n}))},r)}))}),H]})}),n===r.K8S&&(0,G.jsxs)(te,{children:[Object.entries(M).map((function(e,n){var t=(0,o.Z)(e,2),r=t[0],i=t[1];return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(_.Z,{mx:2,my:2,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(b.Z,{flex:4,children:(0,G.jsx)(P.ZP,{muted:!0,children:i})}),(0,G.jsx)(b.Z,{flex:2,flexDirection:"row-reverse",children:(0,G.jsx)(P.ZP,{bold:!0,children:(null==a?void 0:a[r])||"N/A"})})]})},r),n!==Object.entries(M).length-1&&(0,G.jsx)(x.Z,{muted:!0})]})})),(null==a?void 0:a.container_config)&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(x.Z,{muted:!0}),(0,G.jsxs)(_.Z,{mx:2,my:2,children:[(0,G.jsx)(P.ZP,{muted:!0,children:"Container config"}),(0,G.jsx)(_.Z,{mt:1}),(0,G.jsx)(B.$W,{children:(0,G.jsx)(m.Z,{autoHeight:!0,fontSize:12,language:A.t6.YAML,readOnly:!0,tabSize:2,value:null==a?void 0:a.container_config,width:"100%"})})]})]})]}),R&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(_.Z,{my:2,children:(0,G.jsx)(v.Z,{default:!0,level:5,children:"Lifecycle Properties"})}),(0,G.jsx)(te,{children:Object.entries(F).map((function(e,n){var t,r=(0,o.Z)(e,2),i=r[0],s=r[1];return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(_.Z,{mx:2,my:2,children:(0,G.jsxs)(g.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(b.Z,{flex:3,children:(0,G.jsx)(P.ZP,{muted:!0,children:s})}),(0,G.jsx)(b.Z,{flex:1,flexDirection:"row-reverse",children:(0,G.jsx)(P.ZP,{bold:!0,children:null===(t=R[i])||void 0===t?void 0:t.toString()})})]})},i),n!==Object.entries(F).length-1&&(0,G.jsx)(x.Z,{muted:!0})]})}))})]})]})})};!function(e){e.ALL="__all__",e.NAMESPACE="namespace[]"}(se||(se={}));var ae=t(42631),le=t(11498),ue=t(75083),de=t(69419),fe=t(53808),pe="workspace_list_filters";function he(e){return(0,fe.t8)(pe,e),e}var me=t(15610),xe=t(42122);function je(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function be(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?je(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ge(){var e=(0,u.useRouter)(),n=S.ZP.statuses.list().data,t=(0,l.useState)(null),i=t[0],c=t[1],a=(0,de.iV)(),f=(0,l.useMemo)((function(){return be({},(0,de.DQ)(a,[se.NAMESPACE]))}),[a]),p=(0,l.useMemo)((function(){var e,t;return(null==n||null===(e=n.statuses)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.instance_type)||"ecs"}),[n]),h=S.ZP.projects.list({},{revalidateOnFocus:!1}).data,m=(0,l.useMemo)((function(){var e;return null==h||null===(e=h.projects)||void 0===e?void 0:e[0]}),[h]),x=S.ZP.workspaces.list(be(be({},f),{},{cluster_type:p}),{revalidateOnFocus:!1}),j=x.data,b=x.isValidating,g=x.mutate,v=(0,l.useMemo)((function(){var e;return null==j||null===(e=j.workspaces)||void 0===e?void 0:e.filter((function(e){return e.name}))}),[j]),Z=(0,z.dd)((function(e){var n=e.workspace;return(0,G.jsx)(K,{clusterType:p,onCancel:_,onCreate:function(){g(),_()},project:m,workspace:n})}),{},[p,g,m],{background:!0,disableClickOutside:!0,disableEscape:!0,uuid:"configure_workspace"}),y=(0,o.Z)(Z,2),w=y[0],_=y[1],k=(0,z.dd)((function(e){var n=e.workspace;return(0,G.jsx)($.Z,{children:(0,G.jsx)("div",{style:{width:"750px"},children:(0,G.jsx)(ce,{clusterType:p,fetchWorkspaces:g,onSuccess:I,setErrors:c,showUpdateModal:function(){return w({workspace:n})},workspace:n})})})}),{},[p,g,c,v],{background:!0,uuid:"workspace_detail"}),O=(0,o.Z)(k,2),C=O[0],I=O[1],E=(0,l.useCallback)((function(e){var n=null==v?void 0:v[e];C({workspace:n})}),[C,v]);(0,l.useEffect)((function(){var e={};if((0,xe.Qr)(f)){var n={},t=(0,fe.U2)(pe,{});t&&Object.entries(t).forEach((function(e){var t=(0,o.Z)(e,2),r=t[0],i=t[1];null!=i&&(le.RG.includes(r)?n[r]=i:(n[r]=[],Object.entries(i).forEach((function(e){var t=(0,o.Z)(e,2),i=t[0];t[1]&&n[r].push(i)}))))})),(0,xe.Qr)(n)||(e={},Object.entries(be(be({},e),n)||{}).forEach((function(n){var t=(0,o.Z)(n,2),r=t[0],i=t[1];null!=i&&(e[r]=i)})))}else{var r={};Object.entries(f).forEach((function(e){var n=(0,o.Z)(e,2),t=n[0],i=n[1];r[t]={};var s,c=i;null!=i&&(le.RG.includes(t)?r[t]=c:(Array.isArray(c)||(c=[c]),c&&Array.isArray(c)&&(null===(s=c)||void 0===s||s.forEach((function(e){r[t][e]=!0})))))})),he((0,xe.hB)(r))}(0,xe.Qr)(e)||(0,me.u)((0,xe.hB)(e),{pushHistory:!1})}),[f]);var D=(0,l.useMemo)((function(){var n={},t={};return p===r.K8S&&(n={namespace:[se.ALL]},t={namespace:(0,s.Z)({},se.ALL,"All namespaces")}),(0,G.jsx)(X.Z,{addButtonProps:{label:"Create new workspace",onClick:w},extraActionButtonProps:{Icon:W.Refresh,disabled:!1,isLoading:b,onClick:g,tooltip:"Refresh workspaces"},filterOptions:n,filterValueLabelMapping:t,onClickFilterDefaults:function(){he({}),e.push("/manage")},onFilterApply:function(e,n){Object.values(n).every((function(e){return!(null!=e&&e.length)}))&&he({})},query:f})}),[p,g,b,f,e,w]);return(0,G.jsx)(J.Z,{breadcrumbs:[{bold:!0,label:function(){return"Workspaces"}}],errors:i,pageName:ue.L6.WORKSPACES,setErrors:c,subheaderChildren:D,children:(0,G.jsx)(Q.Z,{columnFlex:[2,4,2,3,1,null],columns:[{uuid:"Status"},{uuid:"Instance Name"},{uuid:"Type"},{uuid:"URL/IP"},{uuid:"Open"}],onClickRow:["ecs","k8s"].includes(p)&&E,rows:null==v?void 0:v.map((function(e){var n=e.instance,t=e.url,r=n.ip,i=n.name,o=n.status,s=n.type,c=t||r,a=c;return c&&!c.includes("http")&&(a="http://".concat(c),"ecs"===p&&(a="http://".concat(c,":6789"))),[(0,G.jsx)(d.ZP,{borderRadius:"".concat(ae.D7,"px"),danger:"STOPPED"===o,default:"PROVISIONING"===o,notClickable:!0,padding:"6px",success:"RUNNING"===o,warning:"PENDING"===o,children:(0,U.vg)(o)},"status"),(0,G.jsx)(P.ZP,{children:i},"name"),(0,G.jsx)(P.ZP,{children:(0,U.vg)(s)},"type"),(0,G.jsx)(P.ZP,{children:c||"N/A"},"ip"),(0,G.jsx)(d.ZP,{disabled:!c,iconOnly:!0,onClick:function(){return window.open(a)},children:(0,G.jsx)(W.Expand,{size:2*re.iI})},"open_button")]}))})})}ge.getInitialProps=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var ve=(0,Y.Z)(ge)},13157:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return t(42765)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},13692:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(61049);function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,r.Z)(e,n)}},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(12539),i=t(80022);function o(e,n){if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}}},function(e){e.O(0,[449,5544,9774,2888,179],(function(){return n=13157,e(e.s=n);var n}));var n=e.O();_N_E=n}]);